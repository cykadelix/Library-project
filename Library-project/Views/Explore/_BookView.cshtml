@using Library_project.Data.Enums
@using Library_project.ViewModels.Book
@model BookListViewModel

@if (Model is null)
{
    <div class="empty-data-container">
        <img src="~/images/empty-data.svg" />
        <h1 clas="display-1">No books available. Check again later.</h1>
    </div>
}
else
{
    @foreach (var items in Model.Books)
    {
        @if (items.onHold == false)
        {
            var base64 = Convert.ToBase64String(items.imageBytes);
            var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
            <div class="media-display-item">
                <img src="@imgSrc" data-id="@items.bookid" data-title="@items.title"class="media-item-img">
                <div class="media-display-text">
                    <h1 class="display-1">@items.title</h1>
                    <h2 class="display-2">Item ID: @items.bookid</h2>
                    <h2 class="display-2">Author(s): @items.author</h2>
                    <h2 class="display-2">Genre: @((genres)items.genres)</h2>
                    <h2 class="display-2">Publishing date: @items.publicDate</h2>
                    <h2 class="display-2">Page count: @items.pageCount</h2>
                    <h2 class="display-2">ISBN: @items.pageCount</h2>
                    <h2 class="display-2 description-placeholder">Click to show description</h2>
                    <h2 class="display-2 media-description hide">@(items.description == "" ? "No description provided" : items.description)</h2>
                    @if (items.isAvailable == true)
                    {
                        <div class="display-3 media-checkout-btn">
                            <div class="underline-animation">
                                <a class="checkout-btn-txt">Checkout<i class="fa-solid fa-arrow-right"></i></a>
                            </div>
                            <a class="checkout-success-text hide">Checkout successful</a>
                            <a class="checkout-fail-text hide">Checkout failed</a>
                        </div>
                    }
                    else
                    {
                        <div class="display-3 media-hold-btn">
                            <div class="underline-animation">
                                <a class="hold-btn-txt">Hold Item<i class="fa-solid fa-arrow-right"></i></a>
                            </div>
                            <a class="checkout-success-text hide">Hold successful</a>
                            <a class="checkout-fail-text hide">Hold failed</a>
                        </div>
                    }
                </div>
            </div>
        }
    }
}



