@model Library_project.ViewModels.Review.ReviewViewModel
@{
    ViewData["Title"] = "Create Review";
}

<div class="account-container">
    <div class="account-controls-panel">
        <div class="library-logo">
            Library Logo
        </div>
        <div class="user-info">
            <div class="user-pfp-container">
                <img src="~/images/pfp_male.svg" id="user-pfp-img" />
            </div>
            <h1 class="display-1">@(TempData.Peek("fullName"))</h1>
        </div>
        @if ((string)TempData.Peek("role") == "employee" || (string)TempData.Peek("role") == "manager")
        {
            <a class="account-nav" asp-area="" asp-controller="Home" asp-action="AdminDashboard">
                <i class="fa-solid fa-chart-bar"></i>
                <h2 class="display-2">Dashboard</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="Employee" asp-action="EmployeeCheckouts">
                <i class="fa-solid fa-list-check"></i>
                <h2 class="display-2">Checkouts</h2>
            </a>
            <a class="account-nav active-l" asp-area="" asp-controller="Review" asp-action="CreateReview">
                <i class="fa-solid fa-star-half-stroke"></i>
                <h2 class="display-2">Create a review</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="AddMedia" asp-action="AddComputer">
                <i class="fa-solid fa-boxes-stacked"></i>
                <h2 class="display-2">Inventory</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="Hold" asp-action="allHolds">
                <i class="fa-solid fa-boxes-stacked"></i>
                <h2 class="display-2">all holds</h2>
            </a>
            @if ((string)TempData.Peek("role") == "manager")
            {
                <a class="account-nav" asp-area="" asp-controller="Employee" asp-action="EmployeeIndex">
                    <i class="fa-solid fa-user-group"></i>
                    <h2 class="display-2">Manage Employees</h2>
                </a>
            }
            <a class="account-nav" asp-area="" asp-controller="Student" asp-action="StudentIndex">
                <i class="fa-solid fa-user-group"></i>
                <h2 class="display-2">Manage Students</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="Reports" asp-action="CheckoutsByDateIndex">
                <i class="fa-solid fa-boxes-stacked"></i>
                <h2 class="display-2">Report Generator</h2>
            </a>
            <a class="account-nav" asp-controller="DashboardSettings" asp-action="Admin" asp-route-id="@(TempData.Peek("libraryCard"))">
                <i class="fa-solid fa-gear"></i>
                <h2 class="display-2">Settings</h2>
            </a>
            <a class="account-nav" id="account-signout-btn" asp-controller="Account" asp-action="Logout">
                <i class="fa-solid fa-arrow-right-from-bracket"></i>
                <h2 class="display-2">Sign out</h2>
            </a>
        }
        else
        {
            <a class="account-nav active-l" asp-area="" asp-controller="Home" asp-action="UserDashboard">
            <i class="fa-solid fa-chart-bar"></i>
            <h2 class="display-2">Dashboard</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="Student" asp-action="StudentCheckouts">
                <i class="fa-solid fa-list-check"></i>
                <h2 class="display-2">My Checkouts</h2>
            </a>
             <a class="account-nav" asp-area="" asp-controller="Hold" asp-action="userHolds">
                <i class="fa-solid fa-list-check"></i>
                <h2 class="display-2">My Holds</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="Review" asp-action="CreateReview">
                <i class="fa-solid fa-star-half-stroke"></i>
                <h2 class="display-2">Create a review</h2>
            </a>
            <a class="account-nav" asp-area="" asp-controller="Student" asp-action="StudentBalance">
                <i class="fa-solid fa-money-bill"></i>
                <h2 class="display-2">Balance</h2>
            </a>
            <a class="account-nav" asp-controller="DashboardSettings" asp-action="Student" asp-route-id="@TempData.Peek("libraryCard")">
                <i class="fa-solid fa-gear"></i>
                <h2 class="display-2">Settings</h2>
            </a>
            <a class="account-nav" id="account-signout-btn" asp-controller="Account" asp-action="Logout">
                <i class="fa-solid fa-arrow-right-from-bracket"></i>
                <h2 class="display-2">Sign out</h2>
            </a>
        }
    </div>
    <div class="media-entry-container">
        <div class="media-form-header">
            <h1 class="display-1">Entry Form</h1>
            <h2 class="sub-header">Leave a review on an item</h2>
        </div>
        <form class="media-entry-form" id="review-entry-form" method="post" asp-action="CreateReview" asp-controller="Review">
            <div class="input-wrapper">
                <label asp-for="mediaid">Item ID</label>
                <input asp-for="mediaid"/>
                <span asp-validation-for="mediaid" class="text-danger"></span>
            </div>
            <div class="input-wrapper">
                <label asp-for="rating">Rating</label>
                <input asp-for="rating" placeholder="1-10"/>
                <span asp-validation-for="rating" class="text-danger"></span>
            </div>
            <div class="input-wrapper">
                <label asp-for="description">Description</label>
                <input asp-for="description" />
                <span asp-validation-for="description" class="text-danger"></span>
            </div>
            <input asp-for="studentid" type="hidden" value="@((string)TempData.Peek("role") == "student" ? TempData.Peek("libraryCard") : -1)" />
            <input asp-for="employeeid" type="hidden" value="@((string)TempData.Peek("role") == "employee" ? TempData.Peek("libraryCard") : -1)" />
            <div class="edit-form-controls">
                <button type="submit" class="media-save-btn" id="movie-save-form">Submit</button>
            </div>
            @if(Model != null)
            {
                <h2 class="sub-header" style="color:@((Model.resultmessage.Contains("not")) ? "red": "green"); align-self: flex-end; font-weight: bold">@Model.resultmessage</h2>
            }
        </form>
    </div>
    <div class="media-recent-transactions-panel" style="width: 50vw">
        <img src="/images/review.svg" />
    </div>
</div>